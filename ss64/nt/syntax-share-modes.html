<!doctype html><html lang="en">

<!-- Mirrored from ss64.com/nt/syntax-share-modes.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:08:48 GMT -->

<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<link rel="STYLESHEET" href="../tables.css" type="text/css">
<title>File Sharing modes - Windows CMD - SS64.com</title>
<style>
 .read {background-color: #6DCE82 !important;}
 .write {background-color: #ec2f0f !important;}
table {max-width:1000px;}
</style>
</head>
<body><!-- #BeginLibraryItem "/Library/head_ntsyntax.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="../index.html">SS64</a></li>
<li class="tbtn"><a href="index.html">CMD <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="q" size="27" maxlength="255">
<input class="submit" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/nt/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>How-to: File Sharing modes</h1>
<p>When an application creates a new file or opens an existing file, it must specify whether it wants to share the file for reading, writing, both, or neither. This is known as the <i>sharing mode</i>.</p>
<p>In the table below, on the left hand side select the row with the Generic Read and /or Write access that your process requires, then select the column with the File Sharing mode to see what other activity will then be able to co-exist with your process.</p>
<p>For example if your process needs <span class="code">GENERIC_WRITE</span> access to a file plus <span class="code">FILE_SHARE_READ</span> sharing mode, then that will allow it to share the file with a <span class="code">GENERIC_READ</span> process that in turn has enabled <span class="code">FILE_SHARE_WRITE</span>. </p>
<p>The file sharing is a two way street - to be compatible, both processes must have FILE_SHARE settings that are compatible with whatever the other process needs. If they don't have compatible sharing modes then the file will be locked by the first process.</p>
<table>
<tr>
<td><br></td>
<th class="read">FILE_SHARE_READ</th>
<th class="write">FILE_SHARE_WRITE</th>
<th><span class="read">FILE_SHARE_READ</span> +<br>
<span class="write">FILE_SHARE_WRITE</span></th>
<td>&lt; The file_share bits indicate what you want to allow <i>other</i> processes to do. </td>
</tr>
<tr>
<th class="read">GENERIC_READ</th>
<td class="read">Share with any READ process that has File_Share_Read</td>
<td>Share with any <span class="write">WRITE</span> process that has <span class="read">File_Share_Read</span></td>
<td>Share with any other process that has <span class="read">File_Share_Read</span></td>
<td><br></td>
</tr>
<tr>
<th class="write">GENERIC_WRITE</th>
<td>Share with any <span class="read">READ</span> process that has <span class="write">File_Share_Write</span></td>
<td class="write">Share with any WRITE process that has File_Share_Write.</td>
<td>Share with any other process that has <span class="write">File_Share_Write</span></td>
<td><br></td>
</tr>
<tr>
<th><span class="read">GENERIC_READ</span> +<br>
<span class="write">GENERIC_WRITE</span></th>
<td>Share with any <span class="read">READ</span> process that has <span class="read">File_Share_Read</span> + <span class="write">File_Share_Write</span></td>
<td>Share with any <span class="write">WRITE</span> process that has <span class="read">File_Share_Read</span> + <span class="write">File_Share_Write</span></td>
<td>Share with any other process that has <span class="read">File_Share_Read</span> + <span class="write">File_Share_Write</span></td>
<td><br></td>
</tr>
<tr>
<td>^ The Generic_access bits indicate what <i>your</i> process needs to do.</td>
<td><br></td>
<td><br></td>
<td><br></td>
<td><br></td>
</tr>
</table>
<p class="quote"><i>&quot;plus ça change, plus c'est la même chose (The more things change, the more they are the same)&rdquo; ~ Jean-Baptiste Alphonse Karr 1849.</i></p><p><b>Related</b>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/fileio/creating-and-opening-files">Creating and Opening Files</a> - docs.microsoft.com<br>
<a href="https://devblogs.microsoft.com/oldnewthing/20040511-00/?p=39403">How do the FILE_SHARE_* bits interact with the desired access bits?</a> - Raymond Chen [MSFT]</p><!-- #BeginLibraryItem "/Library/foot_nt.lbi" --><p>
<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- windows300 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="7649547908"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2020 <a href="../index.html">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>

<!-- Mirrored from ss64.com/nt/syntax-share-modes.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:08:48 GMT -->
</html>
