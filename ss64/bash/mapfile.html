<!doctype html><html lang="en">

<!-- Mirrored from ss64.com/bash/mapfile.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:03:07 GMT -->

<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>mapfile Man Page - Linux - SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_bash.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="../index.html">SS64</a></li>
<li class="tbtn"><a href="index.html">Linux <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="q" size="27" maxlength="255">
<input class="submit" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/bash/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>mapfile</h1> 
<p>Read lines from the standard input into the indexed <a href="syntax-arrays.html">array</a> variable <i>array</i>, or from file descriptor <i>fd</i> if the -u option is supplied. The variable MAPFILE is the default array. The command name <span class="code">readarray</span> may be used as an alias for <span class="code">mapfile</span>, with no difference in operation.</p>
<pre>Syntax
      mapfile [-n <i>count</i>] [-O <i>origin</i>] [-s <i>count</i>] [-t] [-u <i>fd</i>] [-C <i>callback</i>] [-c <i>quantum</i>] [<i>array</i>]
    readarray [-n <i>count</i>] [-O <i>origin</i>] [-s <i>count</i>] [-t] [-u <i>fd</i>] [-C <i>callback</i>] [-c <i>quantum</i>] [<i>array</i>]

Key
   -n    Copy at most <i>count</i> lines. If <i>count</i> is 0, all lines are copied.

   -O    Begin assigning to array at index <i>origin</i>. The default index is 0.

   -s    Discard the first <i>count</i> lines read.

   -t    Remove a trailing newline from each line read.

   -u    Read lines from file descriptor <i>fd</i> instead of the standard input.

   -C    Evaluate <i>callback</i> each time quantum lines are read. The -c option specifies quantum.

   -c    Specify the number of lines read between each call to callback. </pre>
  

<p>If -C is specified without -c, the default quantum is 5000. <br>
When <i>callback</i> is evaluated, it is supplied the index of the next array element to be assigned as an additional argument. callback is evaluated after the line is read but before the array element is assigned.</p>
<p> If not supplied with an explicit <i>origin</i>, mapfile will clear <i>array</i> before assigning to it.</p>
<p> mapfile returns successfully unless an invalid option or option argument is supplied, <i>array</i> is invalid or unassignable, or if array is not an indexed array.</p>
<p>mapfile can't do anything that couldn't be done using <a href="read.html">read</a> and a loop. A read loop is far more portable but is significantly slower tham mapfile.</p><p>mapfile is a BASH shell builtin, to display your local syntax from the bash prompt type: <span class="code">help mapfile</span><br>
</p>
<p><b>Examples</b></p>
<p>Capture the output of a script inner.sh and store it in an array called myarray:</p>
<p class="code">mapfile -t myarray &lt; &lt;(./inner.sh)</p>
<p>The last part of this <span class="code">&lt;(./inner.sh)</span><a href="syntax-substitution.html">expands</a> to a filename, however mapfile normally expects stdin, we can <a href="syntax-redirection.html">redirect</a> the filename to stdin with a &lt; character, but the two &lt;'s have to be <a href="https://stackoverflow.com/questions/29665142/bash-syntax-mapfile-input-redirection">separated</a> with a space so that they don&rsquo;t get interpreted as &lt;&lt;.
</p>
<p>Print the text Alpha, Beta, Gamma as 3 separate lines, when fed into mapfile these will be saved in the array 'GreekArray':</p>
<p class="code">mapfile -t GreekArray &lt; &lt;(printf &quot;Alpha\nBeta\nGamma&quot;)</p>
<p>In both these examples the <span class="code">-t</span> option removes the newline characters so that only  text is stored in each array element. Discarding the newline character  is usually what you need.</p>
<p class="quote"><i>"If you feel safe in the area you’re working in, you’re not working in the right area. Always go a little further into the water than you feel you’re capable of being in. Go a little bit out of your depth. And when you don’t feel that your feet are quite touching the bottom, you’re just about in the right place to do something exciting." ~ David Bowie</i></p>
<p><b>Related linux commands:</b></p>
<p class="space"><a href="read.html">read</a> - Read a line from standard input.<br>
<a href="select.html">select</a> - Accept keyboard input.<br>
Equivalent Windows commands: <a href="../nt/set.html">SET /P</a> - Prompt for user input.</p><!-- #BeginLibraryItem "/Library/foot_bash.lbi" --><p><script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- bash300 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="4615356305"></ins>

<!-- Mirrored from ss64.com/bash/mapfile.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:03:07 GMT -->
</html>
