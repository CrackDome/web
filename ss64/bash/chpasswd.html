<!doctype html><html lang="en">

<!-- Mirrored from ss64.com/bash/chpasswd.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:02:57 GMT -->

<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>chpasswd Man Page - Linux - SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_bash.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="../index.html">SS64</a></li>
<li class="tbtn"><a href="index.html">Linux <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="q" size="27" maxlength="255">
<input class="submit" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/bash/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>chpasswd</h1> 
<p><span class="space">Update passwords in batch mode</span>.</p>
<pre>SYNTAX
      chpasswd [<i>Options</i>...]

OPTIONS
   -c, --crypt-method <i>METHOD</i>
      Use the specified method to encrypt the passwords.

       The available methods are DES, MD5, NONE, and SHA256 or SHA512 if
       your libc support these methods.

       By default, PAM is used to encrypt the passwords.

   -e, --encrypted
       Supplied passwords are in encrypted form.

   -h, --help
       Display help message and exit.

   -m, --md5
       Use MD5 encryption instead of DES when the supplied passwords are
       not encrypted.

   -R, --root <i>CHROOT_DIR</i>
       Apply changes in the <i>CHROOT_DIR</i> directory and use the
       configuration files from the CHROOT_DIR directory.

   -s, --sha-rounds <i>ROUNDS</i>
       Use the specified number of rounds to encrypt the passwords.

       The value 0 means that the system will choose the default number
       of rounds for the crypt method (5000).

       A minimal value of 1000 and a maximal value of 999,999,999 will
       be enforced.

       You can only use this option with the SHA256 or SHA512 crypt
       method.

       By default, the number of rounds is defined by the
       SHA_CRYPT_MIN_ROUNDS and SHA_CRYPT_MAX_ROUNDS variables in
       /etc/login.defs.</pre>
<p>The chpasswd command reads a list of user name and password pairs from standard input and uses this information to update a group of existing users. Each line is of the format:<br>
<span class="code">user_name:password </span></p>
<p>By default the passwords must be supplied in clear-text, and are encrypted by chpasswd. Also the password age will be updated, if present. By default, passwords are encrypted by PAM, but (even if not recommended) you can select a different encryption method with the -e, -m, or -c options. Except when PAM is used to encrypt the passwords, chpasswd first updates all the passwords in memory, and then commits all the changes to disk if no errors occurred for any user.</p>
<p> When PAM is used to encrypt the passwords (and update the passwords in the system database) then if a password cannot be updated chpasswd continues updating the passwords of the next users, and will return an error code on exit. </p>
<p>This command is intended to be used in a large system environment where many accounts are created at a single time.</p>
<p>Remember to set permissions or umask to prevent readability of unencrypted files by other users.</p>
<h2>Configuration</h2>
<blockquote>
<p>The following configuration variables in /etc/login.defs change the
       behavior of this tool:

       <br>
<span class="code">SHA_CRYPT_MIN_ROUNDS</span> (number), <span class="code">SHA_CRYPT_MAX_ROUNDS</span> (number) </p>
<p>When <span class="code">ENCRYPT_METHOD</span> is set to SHA256 or SHA512, this defines the number of SHA rounds used by the encryption algorithm by default (when the number of rounds is not specified on the command line).</p>
<p> With a lot of rounds, it is more difficult to brute forcing the
           password. But note also that more CPU resources will be needed to
           authenticate users.

           If not specified, the libc will choose the default number of
           rounds (5000).
</p>
<p>The values must be inside the 1000-999,999,999 range.</p>
<p> If only one of the <span class="code">SHA_CRYPT_MIN_ROUNDS</span> or <span class="code">SHA_CRYPT_MAX_ROUNDS</span> values is set, then this value will be used. </p>
<p>If <span class="code">SHA_CRYPT_MIN_ROUNDS</span> > <span class="code">SHA_CRYPT_MAX_ROUNDS</span>, the highest value
will be used. </p>
<p>Note: This only affect the generation of group passwords. The
           generation of user passwords is done by PAM and subject to the
           PAM configuration. It is recommended to set this variable
           consistently with the PAM configuration. </p>
</blockquote>
<h2>Files</h2>
<blockquote>
<p>  <span class="code">/etc/login.defs</span> - Password aging (for new accounts)<br>
<span class="code">/etc/passwd</span> User account information. <br>
<span class="code">/etc/shadow</span> Secure user account information. <br>
<span class="code">/etc/pam.d/chpasswd</span> PAM configuration for chpasswd.</p>
</blockquote>
<p><i class="quote">&ldquo;If you would keep your secret from an enemy, tell it not to a friend&rdquo; ~ Benjamin Franklin</i></p><p><b>Related linux commands:</b></p>
<p class="space"><a href="https://en.wikipedia.org/wiki/Password_strength">Advice on how to choose a strong password</a> - Wikipedia<br>
<a href="chgrp.html">chgrp</a> - Change group ownership.<br>
chage - 
Set password age.<br>
<a href="chmod.html">chmod</a> - Change access permissions.<br>
<a href="chown.html">chown</a> - Change file owner and group.<br>
<a href="passwd.html">passwd</a> - Modify a user password.<br>
<a href="useradd.html">useradd</a> - Create new user account<br>
<a href="who.html">who</a> - Print who is currently logged in.<br>
<a href="../pass/index.html">Password generator</a><br>
Equivalent Windows command: <a href="../ps/set-adaccountpassword.html">Set-adAccountPassword</a> - Modify the password of an AD account.<span class="code"></span></p><!-- #BeginLibraryItem "/Library/foot_bash.lbi" --><p><script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- bash300 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="4615356305"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2020 <a href="../index.html">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>

<!-- Mirrored from ss64.com/bash/chpasswd.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Aug 2020 00:02:58 GMT -->
</html>
